# HyperFleet GKE Developer Environment
# Copy this file to dev-<username>.tfvars and customize
#
# Usage:
#   cp envs/gke/dev.tfvars.example envs/gke/dev-<username>.tfvars
#   cp envs/gke/dev.tfbackend.example envs/gke/dev-<username>.tfbackend
#   # Edit both files to set your username
#   terraform init -backend-config=envs/gke/dev-<username>.tfbackend
#   terraform plan -var-file=envs/gke/dev-<username>.tfvars
#   terraform apply -var-file=envs/gke/dev-<username>.tfvars

# =============================================================================
# Required: Your Info
# =============================================================================
developer_name     = "CHANGE_THIS"  # Your username (e.g., "your-username")
kubernetes_suffix  = "default"    # Namespace suffix (allows multiple deployments to share a cluster)

# =============================================================================
# Cloud Provider
# =============================================================================
cloud_provider = "gke"

# =============================================================================
# GCP Settings
# =============================================================================
gcp_project_id = "hcm-hyperfleet"
gcp_region     = "us-central1"
gcp_zone       = "us-central1-a"

# Network (created by shared infra - don't change unless you know what you're doing)
gcp_network    = "hyperfleet-dev-vpc"
gcp_subnetwork = "hyperfleet-dev-vpc-subnet"

# =============================================================================
# Cluster Configuration
# =============================================================================
node_count   = 1              # Start with 1 node for dev
machine_type = "e2-standard-4" # 4 vCPU, 16GB RAM
use_spot_vms = true           # ~70% cost savings, may be preempted

# Deletion protection (prevents accidental terraform destroy)
# Personal dev clusters: false (default) - easy cleanup when done
# Shared long-running clusters: true - prevents accidental deletion (e.g., Prow)
# To destroy a protected cluster: set to false, apply, then destroy
enable_deletion_protection = false

# =============================================================================
# Pub/Sub Configuration (for HyperFleet messaging)
# =============================================================================
use_pubsub           = false # Set to true to use Google Pub/Sub for event messaging
enable_dead_letter   = true  # Enable dead letter queue for failed messages

# Topic configurations - each topic can have different subscriptions and publishers
# Uncomment and customize as needed for your development environment
# pubsub_topic_configs = {
#   clusters = {
#     subscribers = {
#       adapter2 = {}
#       adapter1 = {}
#     }
#     publishers = {
#       sentinel = {}
#     }
#   }
#   nodepools = {
#     subscribers = {
#       adapter3 = {}
#     }
#     publishers = {
#       sentinel = {}
#     }
#   }
# }
